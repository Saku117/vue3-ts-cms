(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97f51866"],{"039f":function(e,t,n){},"10c7":function(e,t,n){"use strict";n("771d"),n("c002")},"18ff":function(e,t,n){},"20ee":function(e,t,n){"use strict";n("99ca")},3573:function(e,t,n){"use strict";var c=n("cf2e"),a=(n("797a"),n("5530")),o=(n("4de4"),n("d3b7"),n("7a23")),r=n("0613"),i=n("7faf"),u=(n("771d"),n("bbf0"),n("cc66"),n("1e49")),l=(n("9533"),n("0a69"),n("3e9ea"),n("bc43"),n("18ff"),n("d81d"),n("b0c0"),{class:"zm-table"}),s={class:"header"},d={class:"title"},f={class:"handler"},b={key:0,class:"footer"},p=Object(o["defineComponent"])({props:{listData:{default:function(){return[]}},propList:null,showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0},title:null,listCount:{default:0},page:null,childrentProp:{default:function(){return{}}}},emits:["selectionChange","update:page"],setup:function(e,t){var n=t.emit,c=e,r=Object(o["ref"])([]),p=function(e){r.value=e.map((function(e){return e.name})),console.log(r.value),n("selectionChange",r.value)},j=function(e){n("update:page",Object(a["a"])(Object(a["a"])({},c.page),{},{pageSize:e}))},O=function(e){n("update:page",Object(a["a"])(Object(a["a"])({},c.page),{},{currentPage:e}))};return function(t,n){var c=u["b"],a=u["a"],r=i["a"];return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createElementVNode"])("div",s,[Object(o["renderSlot"])(t.$slots,"header",{},(function(){return[Object(o["createElementVNode"])("div",d,Object(o["toDisplayString"])(e.title),1),Object(o["createElementVNode"])("div",f,[Object(o["renderSlot"])(t.$slots,"headerHandler")])]}))]),Object(o["createVNode"])(a,Object(o["mergeProps"])({class:"user-content",data:e.listData,border:"",style:{width:"100%"},onSelectionChange:p},e.childrentProp),{default:Object(o["withCtx"])((function(){return[e.showSelectColumn?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,type:"selection",width:"50",align:"center"})):Object(o["createCommentVNode"])("",!0),e.showIndexColumn?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,type:"index",align:"center",label:"id"})):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.propList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(c,Object(o["mergeProps"])({key:e.prop},e,{align:"center","show-overflow-tooltip":""}),{default:Object(o["withCtx"])((function(n){var c=n.row;return[Object(o["renderSlot"])(t.$slots,e.slotName,{row:c},(function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.prop?c[e.prop]:""),1)]}))]})),_:2},1040)})),128))]})),_:3},16,["data"]),e.showFooter?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,[Object(o["renderSlot"])(t.$slots,"footer",{},(function(){return[Object(o["createVNode"])(r,{currentPage:e.page.currentPage,"onUpdate:currentPage":n[0]||(n[0]=function(t){return e.page.currentPage=t}),"page-sizes":[10,20,30,40],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,onSizeChange:j,onCurrentChange:O},null,8,["currentPage","page-size","total"])]}))])):Object(o["createCommentVNode"])("",!0)])}}}),j=(n("688a"),n("6b0d")),O=n.n(j);const m=O()(p,[["__scopeId","data-v-4ea00881"]]);var g=m,C=g;n("99af"),n("7db0");function h(e,t){var n=Object(r["c"])(),c=n.state.user.permissions,a="system:".concat(e.toLocaleLowerCase(),":").concat(t);return console.log(a),!!c.find((function(e){return e===a}))}var N={class:"page-content"},w={class:"handle-btns"},k=Object(o["createTextVNode"])("编辑"),v=Object(o["createTextVNode"])("删除"),y=Object(o["defineComponent"])({props:{contentTableConfig:null,pageName:null,addButtonName:null},emits:["editBtnClick","addBtnClick"],setup:function(e,t){var n=t.expose,i=t.emit,u=e,l=Object(o["ref"])({currentPage:1,pageSize:10});Object(o["watch"])(l,(function(){return j()}));var s=Object(r["c"])(),d=h(u.pageName,"create"),f=h(u.pageName,"update"),b=h(u.pageName,"delete"),p=h(u.pageName,"query"),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!p)return!1;s.dispatch("system/getPageListAction",{pageName:u.pageName,queryInfo:Object(a["a"])({offset:(l.value.currentPage-1)*l.value.pageSize,size:l.value.pageSize},e)})};j();var O=Object(o["computed"])((function(){return s.getters["system/pageListData"](u.pageName)})),m=Object(o["computed"])((function(){return s.getters["system/pageListCount"](u.pageName)})),g=u.contentTableConfig.propList.filter((function(e){return"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName))})),y=function(e){console.log(e),s.dispatch("system/deletePageDataAction",{pageName:u.pageName,id:e.id})},B=function(){i("addBtnClick")},x=function(e){i("editBtnClick",e)};return n({getPageData:j}),function(t,n){var a=c["a"];return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createVNode"])(Object(o["unref"])(C),Object(o["mergeProps"])({class:"user-content"},e.contentTableConfig,{page:l.value,"onUpdate:page":n[0]||(n[0]=function(e){return l.value=e}),"list-count":Object(o["unref"])(m),"list-data":Object(o["unref"])(O)}),Object(o["createSlots"])({headerHandler:Object(o["withCtx"])((function(){return[Object(o["unref"])(d)?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0,size:"small",type:"primary",onClick:B},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.addButtonName),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),status:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(a,{size:"mini",type:e.row.enable?"success":"danger"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.row.enable?"启用":"禁用"),1)]})),_:2},1032,["type"])]})),createAt:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$filters.formatTime(e.row.createAt)),1)]})),updateAt:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$filters.formatTime(e.row.createAt)),1)]})),handler:Object(o["withCtx"])((function(e){return[Object(o["createElementVNode"])("div",w,[Object(o["unref"])(f)?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0,size:"mini",type:"warning",onClick:function(t){return x(e.row)}},{default:Object(o["withCtx"])((function(){return[k]})),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0),Object(o["unref"])(b)?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:1,size:"mini",type:"danger",onClick:function(t){return y(e.row)}},{default:Object(o["withCtx"])((function(){return[v]})),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0)])]})),_:2},[Object(o["renderList"])(Object(o["unref"])(g),(function(e){return{name:e.slotName,fn:Object(o["withCtx"])((function(n){return[e.slotName?Object(o["renderSlot"])(t.$slots,e.slotName,{key:0,row:n.row}):Object(o["createCommentVNode"])("",!0)]}))}}))]),1040,["page","list-count","list-data"])])}}});n("20ee");const B=O()(y,[["__scopeId","data-v-a0222870"]]);var x=B;t["a"]=x},"3e9ea":function(e,t,n){"use strict";n("771d"),n("e20d")},"58f3":function(e,t,n){},"688a":function(e,t,n){"use strict";n("fb34")},"7eca":function(e,t,n){},9533:function(e,t,n){},"99ca":function(e,t,n){},"9d28":function(e,t,n){"use strict";n("771d"),n("7eca")},a16d:function(e,t,n){},bbf0:function(e,t,n){},bc43:function(e,t,n){"use strict";n("771d"),n("e45f"),n("dbe6")},c002:function(e,t,n){},cc66:function(e,t,n){"use strict";n("771d"),n("c4aa"),n("3e9ea"),n("10c7"),n("58f3"),n("9d28"),n("dbe6"),n("039f")},d81d:function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").map,o=n("1dde"),r=o("map");c({target:"Array",proto:!0,forced:!r},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},dbe6:function(e,t,n){"use strict";n("771d"),n("a16d")},e20d:function(e,t,n){},e45f:function(e,t,n){},fb34:function(e,t,n){}}]);
//# sourceMappingURL=chunk-97f51866.a96c99f8.js.map